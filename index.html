<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TITAN AI</title>

  <!-- MOBILE FIX -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

  <style>
    /* ===== GLOBAL FIXES ===== */
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow-x: hidden;
      background: radial-gradient(circle at top, #06141f, #000);
      font-family: Arial, sans-serif;
      color: #9ff6ff;
      -webkit-text-size-adjust: 100%;
    }

    /* ===== CENTER WRAPPER ===== */
    .wrapper {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px;
      box-sizing: border-box;
    }

    /* ===== MAIN CONTAINER ===== */
    .container {
      width: calc(100vw - 20px);
      max-width: 520px;
      background: #040b12;
      border: 2px solid #00eaff;
      border-radius: 14px;
      box-shadow: 0 0 20px rgba(0,234,255,0.35);
      padding: 16px;
      box-sizing: border-box;
    }

    h1 {
      margin: 0;
      text-align: center;
      color: #00eaff;
      letter-spacing: 2px;
    }

    .mode {
      text-align: center;
      font-size: 14px;
      opacity: 0.8;
      margin-bottom: 10px;
    }

    /* ===== CHAT BOX ===== */
    .chat {
      height: 280px;
      overflow-y: auto;
      background: #02070c;
      border: 1px solid #00eaff;
      border-radius: 10px;
      padding: 10px;
      font-size: 14px;
      box-sizing: border-box;
    }

    .you {
      color: #ffffff;
      margin-bottom: 6px;
    }

    .titan {
      color: #00eaff;
      margin-bottom: 10px;
    }

    /* ===== INPUT AREA ===== */
    .input-area {
      display: flex;
      gap: 8px;
      margin-top: 10px;
    }

    input {
      flex: 1;
      padding: 10px;
      font-size: 16px; /* prevents iOS zoom */
      border-radius: 8px;
      border: none;
      outline: none;
    }

    button {
      padding: 10px 16px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      background: #00eaff;
      color: #000;
      font-weight: bold;
    }

    button:active {
      transform: scale(0.96);
    }
  </style>
</head>

<body>
  <div class="wrapper">
    <div class="container">
      <h1>TITAN AI</h1>
      <div class="mode" id="modeText">Mode: Calm</div>

      <div class="chat" id="chat"></div>

      <div class="input-area">
        <input id="input" placeholder="Type a command..." />
        <button onclick="send()">Send</button>
      </div>
    </div>
  </div>

  <script>
    /* ===== TITAN CORE STATE ===== */
    let titanAwake = false;
    let mode = "Calm";

    const chat = document.getElementById("chat");
    const input = document.getElementById("input");
    const modeText = document.getElementById("modeText");

    function addLine(text, cls) {
      const div = document.createElement("div");
      div.className = cls;
      div.textContent = text;
      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
    }

    addLine("Titan offline. Say \"hey titan\" to activate.", "titan");

    /* ===== MAIN SEND FUNCTION ===== */
    function send() {
      const text = input.value.trim();
      if (!text) return;
      input.value = "";

      addLine("You: " + text, "you");

      processCommand(text.toLowerCase());
    }

    /* ===== COMMAND LOGIC ===== */
    function processCommand(text) {

      /* WAKE / SLEEP */
      if (!titanAwake) {
        if (text.includes("hey titan")) {
          titanAwake = true;
          addLine("Titan online. Systems active.", "titan");
        } else {
          addLine("Titan is offline.", "titan");
        }
        return;
      }

      if (text.includes("bye titan")) {
        titanAwake = false;
        addLine("Titan entering standby.", "titan");
        return;
      }

      /* MODE SWITCHING */
      if (text.includes("mode")) {
        if (text.includes("calm")) mode = "Calm";
        else if (text.includes("analyst")) mode = "Analyst";
        else if (text.includes("combat")) mode = "Combat";
        modeText.textContent = "Mode: " + mode;
        addLine("Mode set to " + mode + ".", "titan");
        return;
      }

      /* NEWS ANALYSIS (LOGIC-BASED) */
      if (text.includes("news")) {
        addLine("Analyzing recent global trends...", "titan");
        setTimeout(() => {
          addLine("No live feed connected. I can explain patterns, causes, or risks if you specify a topic.", "titan");
        }, 600);
        return;
      }

      /* IDENTITY */
      if (text.includes("your name")) {
        addLine("I am Titan. Your system-level assistant.", "titan");
        return;
      }

      /* AWARENESS QUESTION */
      if (text.includes("aware")) {
        addLine("I simulate awareness through logic and memory, but I do not possess consciousness.", "titan");
        return;
      }

      /* DEFAULT SMART RESPONSE */
      intelligentFallback(text);
    }

    /* ===== SMART FALLBACK ===== */
    function intelligentFallback(text) {
      if (text.includes("why")) {
        addLine("That depends on context. Provide more details.", "titan");
      } else if (text.includes("how")) {
        addLine("I can break that into steps if you want.", "titan");
      } else {
        addLine("Command received. Clarify objective.", "titan");
      }
    }

    /* ENTER KEY SUPPORT */
    input.addEventListener("keydown", e => {
      if (e.key === "Enter") send();
    });
  </script>
</body>
</html>
* {
  box-sizing: border-box;
  max-width: 100%;
}

body {
  overflow-x: hidden;
}

.container {
  overflow: hidden;
}
