<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TITAN AI</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<style>
body {
  margin: 0;
  background: radial-gradient(circle at top, #061b26, #020409);
  color: #00eaff;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: system-ui, -apple-system;
}

.container {
  width: 95%;
  max-width: 520px;
  border: 2px solid #00eaff;
  border-radius: 14px;
  padding: 16px;
  background: #040b12;
  box-shadow: 0 0 30px rgba(0,234,255,0.4);
}

h1 {
  text-align: center;
  margin: 0;
  letter-spacing: 2px;
}

.mode {
  text-align: center;
  font-size: 14px;
  margin-bottom: 10px;
}

.chat {
  height: 280px;
  overflow-y: auto;
  border: 1px solid #00eaff;
  border-radius: 8px;
  padding: 10px;
  background: #02070b;
  margin-bottom: 10px;
}

.you { color: #ffffff; margin-bottom: 6px; }
.titan { color: #00eaff; margin-bottom: 10px; }

.controls {
  display: flex;
  gap: 6px;
}

input {
  flex: 1;
  font-size: 16px;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid #00eaff;
  background: #0a1117;
  color: #00eaff;
}

button {
  padding: 12px;
  border-radius: 8px;
  border: none;
  background: #00eaff;
  color: #000;
  font-weight: bold;
}
</style>
</head>

<body>
<div class="container">
  <h1>TITAN AI</h1>
  <div class="mode" id="mode">Mode: Analyst</div>

  <div class="chat" id="chat">
    <div class="titan">Titan offline. Say <b>"hey titan"</b> to activate.</div>
  </div>

  <div class="controls">
    <input id="input" placeholder="Type a command..." />
    <button onclick="sendText()">Send</button>
  </div>
</div>

<script>
const chat = document.getElementById("chat");
const input = document.getElementById("input");
let titanOnline = false;

// ðŸ”‘ ADD YOUR API KEY HERE (later)
const NEWS_API_KEY = "PASTE_YOUR_API_KEY_HERE";

function addMessage(text, cls) {
  const div = document.createElement("div");
  div.className = cls;
  div.innerHTML = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function speak(text) {
  const s = new SpeechSynthesisUtterance(text);
  window.speechSynthesis.speak(s);
}

async function analyzeNews() {
  if (NEWS_API_KEY.includes("PASTE")) {
    addMessage("Titan: News system not configured. API key required.", "titan");
    return;
  }

  addMessage("Titan: Accessing global news feedsâ€¦", "titan");

  const url = `https://newsapi.org/v2/top-headlines?language=en&pageSize=5&apiKey=${NEWS_API_KEY}`;
  const res = await fetch(url);
  const data = await res.json();

  if (!data.articles) {
    addMessage("Titan: News retrieval failed.", "titan");
    return;
  }

  let analysis = "Here are the most significant developments:<br><br>";

  data.articles.forEach((a, i) => {
    analysis += `<b>${i+1}. ${a.title}</b><br>`;
    analysis += `Impact: This may influence public awareness, policy, or global stability.<br><br>`;
  });

  addMessage("Titan: " + analysis, "titan");
  speak("News analysis complete.");
}

function processCommand(text) {
  const lower = text.toLowerCase();

  if (!titanOnline && lower.includes("hey titan")) {
    titanOnline = true;
    addMessage("Titan: Online. Analyst systems ready.", "titan");
    speak("Titan online.");
    return;
  }

  if (!titanOnline) {
    addMessage("Titan: Offline.", "titan");
    return;
  }

  if (lower.includes("news") || lower.includes("analyze")) {
    analyzeNews();
    return;
  }

  addMessage("Titan: Command received. Clarify intent.", "titan");
}

function sendText() {
  const text = input.value.trim();
  if (!text) return;
  addMessage("You: " + text, "you");
  processCommand(text);
  input.value = "";
}

input.addEventListener("keydown", e => {
  if (e.key === "Enter") sendText();
});
</script>
</body>
</html>
